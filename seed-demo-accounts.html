<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seed Demo Accounts - PoyBash Furniture</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #5D4037;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        button {
            background: #5D4037;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        button:hover {
            background: #4E342E;
        }
        button.secondary {
            background: #757575;
        }
        button.secondary:hover {
            background: #616161;
        }
        .accounts-table {
            margin: 30px 0;
            border-collapse: collapse;
            width: 100%;
        }
        .accounts-table th,
        .accounts-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .accounts-table th {
            background: #f5f5f5;
            font-weight: 600;
        }
        .role-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        .role-owner { background: #ffebee; color: #c62828; }
        .role-admin { background: #fff3e0; color: #ef6c00; }
        .role-staff { background: #e8f5e9; color: #2e7d32; }
        .role-clerk { background: #f3e5f5; color: #7b1fa2; }
        .role-customer { background: #e3f2fd; color: #1565c0; }
        .output {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        .output.success {
            background: #1b5e20;
            color: white;
        }
        .output.error {
            background: #b71c1c;
            color: white;
        }
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px 16px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üå± Seed Demo Accounts</h1>
        <p class="subtitle">Create demo accounts for testing role-based access control</p>

        <div>
            <button onclick="seedDemoAccounts()">üéØ Create Demo Accounts</button>
            <button onclick="showCurrentAccounts()" class="secondary">üëÄ Show Current Accounts</button>
            <button onclick="clearDemoAccounts()" class="secondary">üóëÔ∏è Clear Demo Accounts</button>
        </div>

        <div class="note">
            <strong>‚ö†Ô∏è Important:</strong> Make sure you're on <code>localhost:3000</code> or your app's domain for this to work.
            The accounts will be created in localStorage for the current domain.
        </div>

        <table class="accounts-table">
            <thead>
                <tr>
                    <th>Role</th>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Name</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="role-badge role-owner">Owner</span></td>
                    <td>owner@poybash.com</td>
                    <td><code>Owner@2024</code></td>
                    <td>Maria Santos</td>
                </tr>
                <tr>
                    <td><span class="role-badge role-admin">Admin</span></td>
                    <td>admin@poybash.com</td>
                    <td><code>Admin@2024</code></td>
                    <td>Juan Dela Cruz</td>
                </tr>
                <tr>
                    <td><span class="role-badge role-staff">Staff</span></td>
                    <td>staff@poybash.com</td>
                    <td><code>Staff@2024</code></td>
                    <td>Ana Reyes</td>
                </tr>
                <tr>
                    <td><span class="role-badge role-clerk">Inventory Clerk</span></td>
                    <td>clerk@poybash.com</td>
                    <td><code>Clerk@2024</code></td>
                    <td>Pedro Garcia</td>
                </tr>
                <tr>
                    <td><span class="role-badge role-customer">Customer</span></td>
                    <td>customer@poybash.com</td>
                    <td><code>Customer@2024</code></td>
                    <td>Sofia Gonzales</td>
                </tr>
            </tbody>
        </table>

        <div id="output"></div>
    </div>

    <script>
        const demoUsers = [
            {
                email: 'owner@poybash.com',
                password: 'Owner@2024',
                firstName: 'Maria',
                lastName: 'Santos',
                phone: '+63 912 345 6789',
                role: 'owner',
            },
            {
                email: 'admin@poybash.com',
                password: 'Admin@2024',
                firstName: 'Juan',
                lastName: 'Dela Cruz',
                phone: '+63 912 345 6780',
                role: 'admin',
            },
            {
                email: 'staff@poybash.com',
                password: 'Staff@2024',
                firstName: 'Ana',
                lastName: 'Reyes',
                phone: '+63 912 345 6781',
                role: 'staff',
            },
            {
                email: 'clerk@poybash.com',
                password: 'Clerk@2024',
                firstName: 'Pedro',
                lastName: 'Garcia',
                phone: '+63 912 345 6782',
                role: 'inventory-clerk',
            },
            {
                email: 'customer@poybash.com',
                password: 'Customer@2024',
                firstName: 'Sofia',
                lastName: 'Gonzales',
                phone: '+63 912 345 6783',
                role: 'customer',
            },
        ];

        function generateId() {
            return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
        }

        function hashPassword(password) {
            let hash = 0;
            for (let i = 0; i < password.length; i++) {
                const char = password.charCodeAt(i);
                hash = (hash << 5) - hash + char;
                hash = hash & hash;
            }
            return hash.toString(36);
        }

        function seedDemoAccounts() {
            try {
                const existingUsersJson = localStorage.getItem('poybash_users');
                let existingUsers = existingUsersJson ? JSON.parse(existingUsersJson) : [];

                const demoEmails = demoUsers.map(u => u.email);
                existingUsers = existingUsers.filter(u => !demoEmails.includes(u.email));

                const newUsers = demoUsers.map(demo => ({
                    id: generateId(),
                    email: demo.email,
                    firstName: demo.firstName,
                    lastName: demo.lastName,
                    phone: demo.phone,
                    role: demo.role,
                    addresses: [],
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString(),
                    emailVerified: true,
                    active: true,
                    passwordHash: hashPassword(demo.password),
                }));

                const allUsers = [...existingUsers, ...newUsers];
                localStorage.setItem('poybash_users', JSON.stringify(allUsers));

                showOutput(`
‚úÖ Success! Created ${newUsers.length} demo accounts

üìã You can now login with:
${demoUsers.map(u => `   ‚Ä¢ ${u.email} / ${u.password}`).join('\n')}

üîê Go to /login to test different roles!
                `, 'success');
            } catch (error) {
                showOutput('‚ùå Error: ' + error.message, 'error');
            }
        }

        function showCurrentAccounts() {
            try {
                const existingUsersJson = localStorage.getItem('poybash_users');
                if (!existingUsersJson) {
                    showOutput('No accounts found in localStorage', '');
                    return;
                }

                const users = JSON.parse(existingUsersJson);
                const demoEmails = demoUsers.map(u => u.email);
                const demoAccounts = users.filter(u => demoEmails.includes(u.email));

                if (demoAccounts.length === 0) {
                    showOutput('No demo accounts found. Click "Create Demo Accounts" to add them.', '');
                } else {
                    showOutput(`
üìã Found ${demoAccounts.length} demo accounts:

${demoAccounts.map(u => `   ‚Ä¢ ${u.role.padEnd(16)} - ${u.email}`).join('\n')}

Total users in system: ${users.length}
                    `, '');
                }
            } catch (error) {
                showOutput('‚ùå Error: ' + error.message, 'error');
            }
        }

        function clearDemoAccounts() {
            try {
                const existingUsersJson = localStorage.getItem('poybash_users');
                if (!existingUsersJson) {
                    showOutput('No users found in localStorage', '');
                    return;
                }

                let existingUsers = JSON.parse(existingUsersJson);
                const demoEmails = demoUsers.map(u => u.email);
                const before = existingUsers.length;
                existingUsers = existingUsers.filter(u => !demoEmails.includes(u.email));
                const after = existingUsers.length;

                localStorage.setItem('poybash_users', JSON.stringify(existingUsers));
                showOutput(`‚úÖ Cleared ${before - after} demo accounts`, 'success');
            } catch (error) {
                showOutput('‚ùå Error: ' + error.message, 'error');
            }
        }

        function showOutput(message, type = '') {
            const output = document.getElementById('output');
            output.className = 'output ' + type;
            output.textContent = message;
            output.style.display = 'block';
        }
    </script>
</body>
</html>
